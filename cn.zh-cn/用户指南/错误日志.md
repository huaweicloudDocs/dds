# 错误日志<a name="zh-cn_topic_error_log"></a>

## 操作场景<a name="section1990143732919"></a>

文档数据库服务的日志管理功能支持查看数据库级别的错误日志，包括数据库运行的Warning和Error级别的信息，有助于您分析系统中存在的问题。

## 使用限制<a name="section4876128284238"></a>

-   对于社区版实例，支持通过界面查看和导出日志明细、以及下载日志文件的功能。
-   对于社区增强版实例，支持通过界面查看和导出日志明细。

## 查看和导出日志明细<a name="section772615166584"></a>

1.  [登录文档数据库服务](https://support.huaweicloud.com/qs-dds/dds_02_0043.html)。
2.  在“实例管理“页面，选择指定的实例，单击实例名称。
3.  在左侧导航树，单击“错误日志“。
4.  在“错误日志“页面，默认在“日志明细“页签下，查看详细信息。
    -   对于集群实例，支持批量查看以下节点的日志信息：
        -   节点类型默认“All nodes”，可查看集群实例下所有节点的错误日志信息。
        -   选择“All mongos”，可查看集群实例下所有mongos节点的错误日志信息。
        -   选择“All shards”，可查看集群实例下所有shard节点的错误日志信息。
        -   选择“All configs”，可查看集群实例下所有config节点的错误日志信息。

    -   对于副本集实例，节点类型默认“All nodes”，可查看副本集实例下所有节点的错误日志信息。
    -   可查看对应节点在不同时间段的错误日志。
    -   可查看以下级别的错误日志：
        -   全部日志级别
        -   WARNING
        -   ERROR

5.  在“日志明细“页签下，您也可以单击日志列表右上方![](figures/export-19.png)，导出日志明细。
    -   导出完成后，您可以在本地查看生成的“.csv”文件。
    -   支持单次最多导出10000条日志明细。


## 下载日志文件<a name="section27741918124912"></a>

1.  [登录文档数据库服务](https://support.huaweicloud.com/qs-dds/dds_02_0043.html)。
2.  在“实例管理“页面，选择指定的社区版实例，单击实例名称。
3.  在左侧导航树，单击“错误日志“。
4.  在“错误日志“页面，选择“日志文件“页签，在状态为“准备完成“的日志文件上，单击“下载“，下载错误日志。

    **图 1**  错误日志<a name="fig208894115182"></a>  
    ![](figures/错误日志.png "错误日志")

    -   系统会自动加载下载准备任务，加载时长受日志文件大小及网络环境影响。
        -   下载准备过程中，日志文件状态显示为“准备中...”。
        -   下载准备完成，日志文件状态显示为“准备完成”。
        -   下载准备失败，日志文件状态显示为“异常”。

    -   一个节点对应一个待下载的日志文件，最大支持下载40MB日志文件。
    -   下载链接有效期为5分钟。如果超时，提示用户下载链接已失效，是否重新下载。如果需要重新下载，单击“确定”，否则，单击“取消”。


